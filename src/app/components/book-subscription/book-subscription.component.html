<div class="docs-example-viewer-wrapper">
  <ng-container *ngIf="bookSubscriptionItems$ | async as bookSubscriptionItems">
    <div class="docs-example-viewer-title mat-elevation-z2">
      <div class="docs-example-viewer-title-spacer">
        <h2>My book Subscription</h2>
        <div *ngIf="bookSubscriptionItems.length>0">
          <button class="mat-elevation-z4" mat-raised-button (click)="clearBookSubscription()">Clear BookSubscription</button>
        </div>
      </div>
    </div>
    <ng-template #emptycart>
      <mat-card *ngIf="!isLoading">
        <mat-card-title>
          Your book Subscription is empty
        </mat-card-title>
        <mat-card-content>
          <button mat-raised-button color="primary" [routerLink]='["/"]'>Continue shopping</button>
        </mat-card-content>
      </mat-card>
    </ng-template>
    <div *ngIf="isLoading" class="spinner-container">
      <mat-spinner></mat-spinner>
    </div>
    <mat-card *ngIf="bookSubscriptionItems.length>0; else emptycart">
      <mat-card-content>
        <table class="table">
          <thead>
            <tr>
              <th>Image</th>
              <th>Name</th>
              <th>Rands</th>
              <th>Add to Cart</th>
              <th>Delete</th>
            </tr>
          </thead>
        </table>
      </mat-card-content>

      <table class="table">
        <tbody>
          <tr *ngFor="let item of bookSubscriptionItems">
            <mat-card-content class="mat-elevation-z2">
              <td> <img matTooltip={{item.name}} matTooltipPosition="after" src="asserts/Upload/{{item.coverFileName}}">
              </td>
              <td><a [routerLink]="['/books/details/',item.bookId]">{{item.name}}</a></td>
              <td>{{ item.purchasePrice | currency : 'ZAR ' }}</td>
              <td>
                <app-addtocart [bookId]="item.bookId"></app-addtocart>
              </td>
              <td>
                <!-- <app-addtobookSubscription [bookId]="item.bookId" [showButton]="true"></app-addtobookSubscription> -->
              </td>
            </mat-card-content>
          </tr>
        </tbody>
      </table>
    </mat-card>
  </ng-container>
</div>